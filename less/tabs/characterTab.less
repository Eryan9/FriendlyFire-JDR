@rowStatsSpace: 30px, 120px, 120px, 30px;
@rowStatsTop: -30px, -45px, -20px, -30px;

@statsBonusSpace: 32px;
@hpmpSpace: 45px;
@hpmpHeaderMargin: 25px;

.attributes {
    & {
        width: 100%;
        height:200px;

        display: flex;
        flex-direction: row;
        justify-content: space-between;
    }

    .left {
            height:fit-content;
            flex-basis:255px;
        }

    .right {
        display:flex;
        flex-direction:column;
        flex-basis:255px;
    }
    

    .speed {
        > div:first-of-type{
            background-image: url('../ui/character/vitesse.webp');
            background-size: contain;
        }
    
        > div:last-of-type{
            background-image: url('../ui/character/star.webp');
            background-size: contain;
        }
    }
}

each(range(length(@rowStatsSpace)), {
    .rowStats-@{value} {

        top: extract(@rowStatsTop, @value);

        div:first-of-type{
            right: extract(@rowStatsSpace, @value);
        }
    
        div:not(:first-of-type){
            left: extract(@rowStatsSpace, @value);
        }

        &{
            display: flex;
            flex-direction: row;
            justify-content: center;
            align-items: flex-start;
            width: 100%;
            position:relative;                
        }
    
        label {
            text-shadow: black 0px 0px 5px;
        }
    
        div {
            display:flex;
            flex-direction:column;
            justify-content: center;
            align-items: center;
            width: 80px;
            position: relative;
        }
    
        input {
            text-align: center;
            background-size: contain;
            background-position: center;
            width: 60px;
            height: 60px;
            background-image: url('../ui/character/stats2.webp');
        } 
        
    }  
});

.hpmp {

    &,.hp,.mp {
        height:50px;
        display: flex;
        flex-direction: row;
        justify-content: center;
        align-items: center;
        position:relative;
    }

    &{
        width: 100%;
        top:-30px;        
    }

    .header{
        align-self: flex-start;
        font-size: 18px;
        font-weight: bold;
    }

    .hp{    
        right: @hpmpSpace;

        label:last-of-type {
            .header();

            margin-inline-start: @hpmpHeaderMargin;
            color: red;
            text-shadow: 0px 0px 5px #000000;
        }
    }

    .avatar {
        z-index: 50;
        height: 220px;
        width: 220px;
        background-image: url('../ui/character/background.webp');
        background-size: contain;
        object-fit: contain;
        border-radius: 50%;
    }

    .mp {
        left: @hpmpSpace; 

        label:first-of-type {
            .header();
            margin-inline-end: @hpmpHeaderMargin;
            color: blue;
            text-shadow: 0px 0px 4px #ffffff;
        }
    }

    input {
        width: 30px;

        &:first-of-type{
            text-align: end;
        }
    }

}

.level{
    &{
        display:flex;
        flex-direction:column;
        align-items:center;
        
        position: relative;
        top:-55px;
        z-index: 10;   
    }

    label,input{
        color: rgba(255, 245, 0, 1);
    }

    input::placeholder{
        color: rgba(255, 245, 0, 1);
    }

    > label {
        margin-block-end: 5px;
    }

    > input {
        width: 40px;
        height: 40px;
        
        text-align: center;
        background-size: contain;
        background-position: center;
        box-shadow: 0px 0px 10px 5px green;
        border-radius: 50%;
        
        margin-top:5px;
    }

    .xp {
        &{
            display:flex; 
            flex-direction:row; 
            margin-block-start: 5px;
        }

        label {
            align-self: center;
        }

        input {
            width: 50px;

            &:first-of-type{
                text-align: end;
            }

            &:not(:first-of-type){
                text-align: start;
            }
        }
    }
}

.bonusStats {
    &{
        display: flex;
        flex-direction:row;
        justify-content: center;
        width: 100%;
        position: absolute;
        height: 180px;
        bottom: 35px;
    }

    > div {
        width:255px;
        height:100%;
        position:relative;
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(3, 1fr);

        .stat{
            width:100%;
            max-height: 60px;
            display:flex;
            flex-direction:column;
            flex-shrink:0;
            justify-content: center;
            align-items: center;
            overflow: visible;

            img {
                z-index: 10;
                border: unset;

                position:relative;
                top:-10px;
            }

            input {
                text-align: center;
                width: 30px;
                height: 20px;
                background-color: rgb(170,122,70);
                box-shadow: 0px 0px 12px 0px black;
                border-radius: 50%;
                position: relative;
                z-index: 20;
            }
        }                

        &.attacks {            
            & {
                right: @statsBonusSpace;
            }

            > div {
                .stat();
                img {
                    height:60px;
                }
                input {
                    top:-23px;
                }
            }

            .perforant {                      
                img {
                    content: url('../ui/character/perforant.webp');
                }
            }

            .tranchant{          
                img {
                    content: url('../ui/character/tranchant.webp');
                }
            }

            .contondant{          
                img {
                    content: url('../ui/character/contondant.webp');
                }
            }

            .feu{          
                img {
                    content: url('../ui/character/feu.webp');
                    top:-10px;
                }
            }
            
            .eau{         
                img {
                    content: url('../ui/character/eau.webp');
                }
            }
            
            .nature{          
                img {
                    content: url('../ui/character/nature.webp');
                }
            }

            .air{          
                img {
                    content: url('../ui/character/air.webp');
                }
            }
            
            .occulte{          
                img {
                    content: url('../ui/character/occulte.webp');
                }
            }  
            
            .spirituel{          
                img {
                    content: url('../ui/character/spirituel.webp');
                    height: 40px;
                }
                input{
                    top:-12px;
                }                
            }  
            
            .lumiere{        
                img {
                    content: url('../ui/character/lumiere.webp');
                }
            } 
            
            .tenebre{          
                img {
                    content: url('../ui/character/tenebre.webp');
                }
            }              
        }

        &.defense{
            & {
                left: @statsBonusSpace;
            }

            > div {
                .stat();
                img {
                    height:70px;
                }
                input {
                    top:-28px;
                }
            }

            .perforant {                      
                img {
                    content: url('../ui/character/def_perforant.webp');
                }
            }

            .tranchant{          
                img {
                    content: url('../ui/character/def_tranchant.webp');
                }
            }

            .contondant{          
                img {
                    content: url('../ui/character/def_contondant.webp');
                }
            }

            .feu{          
                img {
                    content: url('../ui/character/def_feu.webp');
                }
            }
            
            .eau{         
                img {
                    content: url('../ui/character/def_eau.webp');
                }
            }
            
            .nature{          
                img {
                    content: url('../ui/character/def_nature.webp');
                }
            }

            .air{          
                img {
                    content: url('../ui/character/def_air.webp');
                }
            }
            
            .occulte{          
                img {
                    content: url('../ui/character/def_occulte.webp');
                }
            }  
            
            .spirituel{          
                img {
                    content: url('../ui/character/def_spirituel.webp');
                }             
            }  
            
            .lumiere{        
                img {
                    content: url('../ui/character/def_lumiere.webp');
                }
            } 
            
            .tenebre{          
                img {
                    content: url('../ui/character/def_tenebre.webp');
                }
            }   
        }      
    }    
}